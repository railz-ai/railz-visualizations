<p align="center">
  <a href="https://railz.ai/" rel="noopener" target="_blank"><img width="200" src="./assets/images/railz-logo.svg" alt="Railz logo"></a>
</p>

Railz is the Accounting Data as a Service™ solution that makes sense of your business customers' financial data.

<h1 align="center">
  <a href="https://docs.railz.ai/docs/visualization-sdk-overview">
    Railz Visualizations
  </a>
</h1>

<p align="center">
  <img alt="Built With Stencil" src="https://img.shields.io/badge/-Built%20With%20Stencil-16161d.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI%2BCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI%2BCgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU%2BCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MjQuNywzNzMuOWMwLDM3LjYtNTUuMSw2OC42LTkyLjcsNjguNkgxODAuNGMtMzcuOSwwLTkyLjctMzAuNy05Mi43LTY4LjZ2LTMuNmgzMzYuOVYzNzMuOXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQyNC43LDI5Mi4xSDE4MC40Yy0zNy42LDAtOTIuNy0zMS05Mi43LTY4LjZ2LTMuNkgzMzJjMzcuNiwwLDkyLjcsMzEsOTIuNyw2OC42VjI5Mi4xeiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDI0LjcsMTQxLjdIODcuN3YtMy42YzAtMzcuNiw1NC44LTY4LjYsOTIuNy02OC42SDMzMmMzNy45LDAsOTIuNywzMC43LDkyLjcsNjguNlYxNDEuN3oiLz4KPC9zdmc%2BCg%3D%3D&colorA=16161d&style=flat-square"/></a>
  <a href="https://www.npmjs.com/package/@railzai/railz-visualizations"><img src="https://img.shields.io/npm/v/@railzai/railz-visualizations" alt="Latest Version on NPM"/></a>
  <a href="https://github.com/railz-ai/railz-visualizations/blob/master/LICENSE"><img src="https://img.shields.io/npm/l/@railzai/railz-visualizations" alt="Software License"/></a>
  <img src="https://badgen.net/bundlephobia/dependency-count/@railzai/railz-visualizations" alt="Tree shaking"/>
  <a href="https://github.com/railz-ai/railz-visualizations/actions/workflows/publish.yml"><img src="https://github.com/railz-ai/railz-visualizations/actions/workflows/publish.yml/badge.svg" alt="Latest Version on NPM"/></a>
  <a href="https://stenciljs.com/docs/style-guide">
          <img src="https://img.shields.io/badge/code_style-stencil/stylelint/prettier-5851ff.svg?style=flat-square" alt="Code Style" />
      </a>
</p>
<h2 align="center">Powerful charting components built with <a href="https://stenciljs.com" target="_blank">StencilJS</a> and <a href="https://www.highcharts.com/" target="_blank">Highcharts</a> based on <a href="https://railz.ai" target="_blank">Railz.ai</a> dashboard.</h2>

<p align="center">
  <a href="https://docs.railz.ai/docs/visualization-sdk-overview">Docs</a> •
  <a href="#key-features-of-railz-visualizations">Key Features</a> •
  <a href="#visualizations-usage">How To Use</a> •
  <a href="#installation">Installation</a> •
  <a href="./examples">Examples</a> •
  <a href="#license">License</a>
</p>

<img src="https://railz.ai/_next/image?url=https%3A%2F%2Fa.storyblok.com%2Ff%2F124388%2F2336x2080%2F62bed08777%2Frailz-data-financial-institutions.png&w=2560&q=80" alt="Railz dashboard preview" width="100%" />
<p align="center"><i>Railz Dashboard.</i></p>
<br>

## Why Stencil ?

Stencil is a compiler for building fast web apps using Web Components.

Stencil combines the best concepts of the most popular frontend frameworks into a compile-time rather than run-time
tool. Stencil takes TypeScript, JSX, a tiny virtual DOM layer, efficient one-way data binding, an asynchronous rendering
pipeline (similar to React Fiber), and lazy-loadingText out of the box, and generates 100% standards-based Web
Components that run in any browser supporting the Custom Elements v1 spec.

Stencil components are just Web Components, so they work in any major framework or with no framework at all.

<br>

## Key Features of Railz Visualizations

- Charting components built for financial data and reports.
- Mobile responsive components;
- Customizations:
  - Update colors based on your branding;
  - Change text content and styles;
- Components
  - Visualization Controls - this is used to display status of bills and invoices
  - Statement Visualizations - this is used to display financial statements like Income Statements, Cashflow
    Statements, Balance Sheets.
  - Loading Indicator Component
  - Error/Status Image component

<br>

## Overview

Accounting Data as a Service™

The Railz Visualization components helps to build your dashboard easily with data from the Railz Reports API.
<br>

| ![Chrome](https://raw.github.com/alrra/browser-logos/master/src/chrome/chrome_48x48.png) | ![Firefox](https://raw.github.com/alrra/browser-logos/master/src/firefox/firefox_48x48.png) | ![Safari](https://raw.github.com/alrra/browser-logos/master/src/safari/safari_48x48.png) | ![Opera](https://raw.github.com/alrra/browser-logos/master/src/opera/opera_48x48.png) | ![Edge](https://raw.github.com/alrra/browser-logos/master/src/edge/edge_48x48.png) |
| ---------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| Latest ✔                                                                                 | Latest ✔                                                                                    | Latest ✔                                                                                 | Latest ✔                                                                              | Latest ✔                                                                           |

<br>

## Installation

The library is published as a [scoped NPM package](https://docs.npmjs.com/misc/scope) in
the [NPMJS Railz account](https://www.npmjs.com/org/railzai).

[Check our docs on detailed instruction guide](https://docs.railz.ai/docs/visualization-sdk-quickstart).

<br>

With NPM:

```bash
npm install @railzai/railz-visualizations
```

With Yarn:

```bash
yarn add @railzai/railz-visualizations
```

## Framework Support

- Angular
- React

<br>

## Visualizations Usage

To use the SDK, import the core component on the page and pass its parameters to access its properties as an
element.

<br>

There are `3` ways to implement the Visualizations SDK

- Use a generic railz-visualizations container & specify the report type, filters, and business info
- Use a specific report component & pass filters and business info
- Use a non data fetching component to help boost your site's interactivity

<br>

Generic Container Example (React)

```javascript
<RailzVisualizations
  configuration={config}
  filter={{
    businessName: 'testFreshbooks',
    serviceName: RVAccountingProviders.FRESHBOOKS,
    reportType: RVReportTypes.BALANCE_SHEET,
    startDate: '2021-01-01',
    endDate: '2022-01-28',
    reportFrequency: RVReportFrequency.MONTH,
  }}
/>
```

Specific Report Component (React)

```javascript
<RailzBankReconciliation
  configuration={configuration}
  filter={filter as RVFilterBankReconciliation}
  options={options}
/>
```

Other Supplementary Components (React)

```javascript
<RailzLoading
  loadingText="Loading Data"
  fillColor={'#000000'}
  textStyle={{ color: '#00884f', fontSize: '18px', fontWeight: 400 }}
  width="150px"
  height="150px"
/>
```

<br>

## Prerequisites

### `Authentication`

<br>

Setup the quick-start guide to get the access token [here](https://docs.railz.ai/reference/authentication).

Once you have the token, make sure you set the token in the railz-visualization `configuration` object.

Check below Usage React/Angular examples for reference.

<br>

#### Framework Specific Installation

- Javascript;
- [Angular](https://www.npmjs.com/package/@railzai/railz-visualizations-angular);
- [React](https://www.npmjs.com/package/@railzai/railz-visualizations-react);

<br>

## Framework usage React example

```javascript
import React, { useEffect, useState } from 'react';
import { RailzVisualizations } from '@railzai/railz-visualizations-react';
import {
  RVAccountingProviders,
  RVReportFrequency,
  RVReportTypes,
  RVConfiguration,
} from '@railzai/railz-visualizations';

function App(): JSX.Element {
  const [config, setConfig] = useState({} as RVConfiguration);

  useEffect(() => {
    const configuration = { token: 'token_1234', debug: false };
    setConfig(configuration);
  }, []);

  return (
    <div>
      <RailzVisualizations
        configuration={config}
        filter={{
          businessName: 'testFreshbooks',
          serviceName: RVAccountingProviders.FRESHBOOKS,
          reportType: RVReportTypes.BALANCE_SHEET,
          startDate: '2021-01-01',
          endDate: '2022-01-28',
          reportFrequency: RVReportFrequency.MONTH,
        }}
      />
    </div>
  );
}

export default App;

```

## Framework usage Angular example

#### `app.component.html`

## Example 1:

Use generic railz-visualizations component & specify reportType & respective filters/values

```javascript
<railz-visualizations
  [configuration]="{
    token: 'your token...'
  }"
  [filter]='{
    businessName: "testFreshbooks",
    serviceName: RVAccountingProviders.FRESHBOOKS,
    reportType: RVReportTypes.BALANCE_SHEET,
    startDate: "2021-01-01",
    endDate: "2022-01-28",
    reportFrequency: RVReportFrequency.MONTH,
  }'
>
</railz-visualizations>
```

## Example 2:

Use a specific railz-visualization component

```javascript
<railz-bank-reconciliation
  [configuration]='{
    "token": "your token..."
  }'
  [filter]='{
    "startDate": "2022-04-06",
    "endDate": "2023-04-12",
    "reportFrequency": "month",
    "reportType": "bankReconciliation",
    "businessName": "TestBusinessXero",
    "serviceName": "xero"
  }'
>
</railz-bank-reconciliation>
```

<br>

#### `app.module.ts`

<br>

Import the `RailzVisualizationsModule` into your component module or app.module.ts file

```javascript
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { RailzVisualizationsModule } from "@railzai/railz-visualizations-angular/dist";

import { AppComponent } from './app.component';

@NgModule({
  declarations: [AppComponent],
  imports: [ BrowserModule, RailzVisualizationsModule ],
  providers: [],
  bootstrap: [AppComponent]
}) 

export class AppModule {}
```

## Vanilla JS Web Components
```javascript
<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@railzai/railz-visualizations@0.0.8-alpha.5/dist/railzvisualizations/railzvisualizations.esm.js"
    ></script>
    <script
      nomodule
      src="https://cdn.jsdelivr.net/npm/@railzai/railz-visualizations@0.0.8-alpha.5/dist/railzvisualizations/railzvisualizations.js"
    ></script>
  </head>
  <body>
    <div id="code" />
    <script>
      const setupSDK = async () => {
        const configuration = { token: 'token_1234', debug: false };

        let rv = document.createElement('railz-visualizations');
        rv.configuration = configuration;

        const filter = {
          startDate: "2022-04-06",
          endDate: "2023-04-12",
          reportFrequency: "month",
          reportType: "creditScore",
          businessName: "TestBusinessXero",
          serviceName: "xero"
        };

        const sourceCode = `
          <railz-visualizations
            configuration="${JSON.stringify(
              { token: configuration.token, debug: configuration.debug },
              null,
              4,
            )}"
            filter="${JSON.stringify(filter, null, 4)}">
          </railz-visualizations>`;

        document.getElementById('code').textContent = sourceCode;
      }

      setupSDK()
    </script>
  </body>
</html>
```

## Contributing

The Railz Visualization library and documentation are open to contributions. For more information, check
the [guidelines](./CONTRIBUTING.md).

## Local Development & Debugging

For more information on local development & debugging, check the [guidelines](./DEVELOPMENT.md).

## License

[MIT License](./LICENSE)

---
